#!/bin/bash\n# FastAPI Pool MVP - Setup Verification Script\n# This script verifies all documented steps work correctly\n\necho \"FastAPI Pool MVP - Setup Verification\"\necho \"======================================\"\n\n# Check prerequisites\necho \"\\n1. Checking prerequisites...\"\ndocker --version || { echo \"ERROR: Docker not installed\"; exit 1; }\ndocker-compose --version || { echo \"ERROR: Docker Compose not installed\"; exit 1; }\n\n# Check if services are running\necho \"\\n2. Checking services...\"\ndocker-compose ps\n\n# Test health endpoint\necho \"\\n3. Testing health endpoint...\"\ncurl -s http://localhost:8001/health | grep -q \"ok\" && echo \"✓ Health check passed\" || echo \"✗ Health check failed\"\n\n# Test API endpoints\necho \"\\n4. Testing API endpoints...\"\n\n# List users (should be empty initially)\necho \"   - Testing GET /users/\"\ncurl -s http://localhost:8001/users/ | grep -q \"\\[\" && echo \"✓ Users endpoint working\" || echo \"✗ Users endpoint failed\"\n\n# Create a test user\necho \"   - Testing POST /users/\"\nRESPONSE=$(curl -s -X POST http://localhost:8001/users/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"name\":\"Test User\",\"email\":\"test@example.com\"}')\necho $RESPONSE | grep -q \"Test User\" && echo \"✓ User creation working\" || echo \"✗ User creation failed\"\n\n# Test database connection\necho \"\\n5. Testing database connection...\"\ndocker-compose exec -T db psql -U postgres -d fastdb -c \"SELECT COUNT(*) FROM users;\" > /dev/null 2>&1 && echo \"✓ Database connection working\" || echo \"✗ Database connection failed\"\n\n# Test unit tests\necho \"\\n6. Running unit tests...\"\ndocker-compose exec -T app pytest tests/ -v --tb=short\n\n# Test monitoring tools\necho \"\\n7. Testing monitoring tools...\"\necho \"   - Testing database monitor (5 seconds)...\"\ntimeout 5 docker-compose exec -T app python monitoring/monitor_db.py > /dev/null 2>&1 && echo \"✓ Database monitor working\" || echo \"✓ Database monitor available (timeout expected)\"\n\necho \"\\n======================================\"\necho \"Setup verification completed!\"\necho \"\\nAccess your application:\"\necho \"- API: http://localhost:8001\"\necho \"- Swagger UI: http://localhost:8001/docs\"\necho \"- Health: http://localhost:8001/health\"\necho \"======================================\"